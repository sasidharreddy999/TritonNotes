---
layout: default
---

<div class="post-layout">
  <aside class="post-sidebar">
    <div class="post-info">
      <h1 class="post-title">{{ page.title | escape }}</h1>
      <div class="post-meta-sidebar">
        <div class="meta-item">
          <span class="meta-label">Published</span>
          <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%Y-%m-%d" }}</time>
        </div>
        {% if page.categories.size > 0 %}
        <div class="meta-item">
          <span class="meta-label">Category</span>
          <span class="meta-value">{{ page.categories | join: ", " }}</span>
        </div>
        {% endif %}
        {% if page.tags.size > 0 %}
        <div class="meta-item">
          <span class="meta-label">Tags</span>
          <div class="tag-list">
            {% for tag in page.tags %}
            <span class="tag-minimal">{{ tag }}</span>
            {% endfor %}
          </div>
        </div>
        {% endif %}
        <div class="meta-item">
          <span class="meta-label">Read time</span>
          <span class="meta-value">{{ content | number_of_words | divided_by: 200 | ceil }} min read</span>
        </div>
      </div>
      
      <div class="table-of-contents">
        <h3>Contents</h3>
        <div id="toc"></div>
      </div>
    </div>
  </aside>
  
  <main class="post-content">
    <article class="linear-article">
      {{ content }}
    </article>
    
    <nav class="post-navigation">
      {% if page.previous.url %}
        <a class="nav-prev" href="{{ page.previous.url | relative_url }}">&larr; {{ page.previous.title | truncate: 50 }}</a>
      {% endif %}
      {% if page.next.url %}
        <a class="nav-next" href="{{ page.next.url | relative_url }}">{{ page.next.title | truncate: 50 }} &rarr;</a>
      {% endif %}
    </nav>
  </main>
</div>

<script>
// Generate table of contents
document.addEventListener('DOMContentLoaded', function() {
  const toc = document.getElementById('toc');
  const headings = document.querySelectorAll('.linear-article h2, .linear-article h3, .linear-article h4');
  
  if (headings.length === 0) {
    document.querySelector('.table-of-contents').style.display = 'none';
    return;
  }
  
  let tocHTML = '<ul>';
  headings.forEach(function(heading, index) {
    const id = 'heading-' + index;
    heading.id = id;
    const level = heading.tagName.toLowerCase();
    const indent = level === 'h3' ? 'toc-h3' : level === 'h4' ? 'toc-h4' : '';
    tocHTML += `<li class="${indent}"><a href="#${id}">${heading.textContent}</a></li>`;
  });
  tocHTML += '</ul>';
  toc.innerHTML = tocHTML;
});
</script>